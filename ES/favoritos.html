<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Lista de Favoritos</title>
    <link rel="icon" type="image/png" href="/assets/img/gourmet-logo-icon.png">
    <link rel="stylesheet" href="../assets/css/nav.css">
    <link rel="stylesheet" href="../assets/css/footer.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/modal.css">
    <link rel="stylesheet" href="../assets/css/select.css">
    <link rel="stylesheet" href="../assets/icons/font-awesome.css">
</head>

<body>

    <header id="header"></header>
    <div id="datetime-display" class="minimal-datetime"></div>
    
    <main id="main" class="main-container">
        <section class="content-page">
            <div class="content-wrapper">
               
                <div class="about-content">
                    <div class="about-section">
                        <h2>Tu lista de deseos está vacía.</h2>
                       <a href="/">¡Explora nuestros productos!</a>
                    </div>

                  
                </div>
            </div>
        </section>
    </main>

    <footer id="footer"></footer>
    <div id="showModal"></div>
    <div id="cart-drawer"></div>

    <script src="../assets/js/nav.js"></script>
    <script src="../assets/js/footer.js"></script>
    <script src="../assets/js/cart/cartView.js" type="module"></script>
    <script src="../assets/js/auth/sesion.js" type="module"></script>
    <script src="../assets/js/auth/validation.js" type="module"></script>
    <script src="../assets/js/utils.js"></script>
    <script src="../assets/js/cart/cartStore.js" type="module"></script>

<script>
// Obtener lista desde localStorage o crear una nueva
let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [
{ id:1, name:'Chuletón de Res', price:45.00, imageUrl:'https://images.unsplash.com/photo-1604908176997-33a364f9a5c9' },
{ id:2, name:'Solomillo de Cerdo', price:12.50, imageUrl:'https://images.unsplash.com/photo-1601050690597-df7990cce1e0' },
{ id:3, name:'Pechuga de Pollo', price:8.99, imageUrl:'https://images.unsplash.com/photo-1604908812320-0430a7e2aa87' },
];


const wishlistElement = document.getElementById('wishlist-items');
const contenedorDeseos = document.getElementById('contenedor-deseos');


function guardarLocal(){ localStorage.setItem('wishlist', JSON.stringify(wishlist)); }


function actualizarEstadoVacio(){
if(wishlist.length === 0){ contenedorDeseos.classList.add('esta-vacia'); }
else{ contenedorDeseos.classList.remove('esta-vacia'); }
}


function renderWishlist(){
wishlistElement.innerHTML = '';


wishlist.forEach(item => {
const li = document.createElement('li');
li.innerHTML = `
<div class="item-details">
<img src="${item.imageUrl}" class="item-image" alt="${item.name}">
<div>
<span><strong>${item.name}</strong></span><br>
<span>$${item.price.toFixed(2)}</span>
</div>
</div>
<div>
<button onclick="removeItem(${item.id})">Eliminar</button>
<button onclick="addToCart(${item.id})">Añadir al carrito</button>
</div>`;
wishlistElement.appendChild(li);
});


actualizarEstadoVacio();
guardarLocal();
}


function removeItem(id){
wishlist = wishlist.filter(i => i.id !== id);
renderWishlist();
}


function addToCart(id){
const item = wishlist.find(i => i.id === id);
if(item){ alert(`${item.name} añadido al carrito.`); }
}
</script>

</body>

</html>